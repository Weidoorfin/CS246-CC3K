/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
import { z } from 'zod';
/**
 * The reserved server name for the IDE's MCP server.
 */
export declare const IDE_SERVER_NAME = "_ide_server";
/**
 * Zod schema for validating a cursor position.
 */
export declare const CursorSchema: z.ZodObject<{
    line: z.ZodNumber;
    character: z.ZodNumber;
}, "strip", z.ZodTypeAny, {
    line: number;
    character: number;
}, {
    line: number;
    character: number;
}>;
export type Cursor = z.infer<typeof CursorSchema>;
/**
 * Zod schema for validating an active file context from the IDE.
 */
export declare const ActiveFileSchema: z.ZodObject<{
    filePath: z.ZodString;
    cursor: z.ZodOptional<z.ZodObject<{
        line: z.ZodNumber;
        character: z.ZodNumber;
    }, "strip", z.ZodTypeAny, {
        line: number;
        character: number;
    }, {
        line: number;
        character: number;
    }>>;
}, "strip", z.ZodTypeAny, {
    filePath: string;
    cursor?: {
        line: number;
        character: number;
    } | undefined;
}, {
    filePath: string;
    cursor?: {
        line: number;
        character: number;
    } | undefined;
}>;
export type ActiveFile = z.infer<typeof ActiveFileSchema>;
/**
 * Zod schema for validating the 'ide/activeFileChanged' notification from the IDE.
 */
export declare const ActiveFileNotificationSchema: z.ZodObject<{
    method: z.ZodLiteral<"ide/activeFileChanged">;
    params: z.ZodObject<{
        filePath: z.ZodString;
        cursor: z.ZodOptional<z.ZodObject<{
            line: z.ZodNumber;
            character: z.ZodNumber;
        }, "strip", z.ZodTypeAny, {
            line: number;
            character: number;
        }, {
            line: number;
            character: number;
        }>>;
    }, "strip", z.ZodTypeAny, {
        filePath: string;
        cursor?: {
            line: number;
            character: number;
        } | undefined;
    }, {
        filePath: string;
        cursor?: {
            line: number;
            character: number;
        } | undefined;
    }>;
}, "strip", z.ZodTypeAny, {
    method: "ide/activeFileChanged";
    params: {
        filePath: string;
        cursor?: {
            line: number;
            character: number;
        } | undefined;
    };
}, {
    method: "ide/activeFileChanged";
    params: {
        filePath: string;
        cursor?: {
            line: number;
            character: number;
        } | undefined;
    };
}>;
type ActiveFileSubscriber = (activeFile: ActiveFile | undefined) => void;
/**
 * Creates a new store for managing the IDE's active file context.
 * This factory function encapsulates the state and logic, allowing for the creation
 * of isolated instances, which is particularly useful for testing.
 *
 * @returns An object with methods to interact with the active file context.
 */
export declare function createIdeContextStore(): {
    setActiveFileContext: (newActiveFile: ActiveFile) => void;
    getActiveFileContext: () => ActiveFile | undefined;
    subscribeToActiveFile: (subscriber: ActiveFileSubscriber) => () => void;
    clearActiveFileContext: () => void;
};
/**
 * The default, shared instance of the IDE context store for the application.
 */
export declare const ideContext: {
    setActiveFileContext: (newActiveFile: ActiveFile) => void;
    getActiveFileContext: () => ActiveFile | undefined;
    subscribeToActiveFile: (subscriber: ActiveFileSubscriber) => () => void;
    clearActiveFileContext: () => void;
};
export {};
